
.. DO NOT EDIT.
.. THIS FILE WAS AUTOMATICALLY GENERATED BY SPHINX-GALLERY.
.. TO MAKE CHANGES, EDIT THE SOURCE PYTHON FILE:
.. "content/SSHydro/plot_3a_create_soil_withzones.py"
.. LINE NUMBERS ARE GIVEN BELOW.

.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        :ref:`Go to the end <sphx_glr_download_content_SSHydro_plot_3a_create_soil_withzones.py>`
        to download the full example code.

.. rst-class:: sphx-glr-example-title

.. _sphx_glr_content_SSHydro_plot_3a_create_soil_withzones.py:


Create soil zones control
=========================
*Estimated time to run the notebook = 5min*

.. GENERATED FROM PYTHON SOURCE LINES 9-26

.. code-block:: Python



    # !! run preprocessor change the DEM shape !
    # dtm_13 does not have the same shape anymore!

    import os

    import matplotlib.pyplot as plt
    import numpy as np
    import pandas as pd

    import pyCATHY.meshtools as mt
    from pyCATHY import cathy_tools
    from pyCATHY.importers import cathy_inputs as in_CT
    from pyCATHY.importers import cathy_outputs as out_CT
    from pyCATHY.plotters import cathy_plots as cplt








.. GENERATED FROM PYTHON SOURCE LINES 27-28

------------------------

.. GENERATED FROM PYTHON SOURCE LINES 28-38

.. code-block:: Python

    path2prj = "../SSHydro/"  # add your local path here
    simu = cathy_tools.CATHY(dirName=path2prj,
                             prj_name="soil_withzones",
                             clear_src=False
                             )

    rootpath = os.path.join(simu.workdir + simu.project_name)
    simu.run_preprocessor(verbose=False)
    simu.run_processor(IPRT1=3,verbose=True)





.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    üèÅ Initiate CATHY object
    üç≥ gfortran compilation
    üëü Run preprocessor
    üîÑ Update parm file 
    üîÑ Update hap.in file
    üîÑ Update dem_parameters file 
    üîÑ Update dem_parameters file 
    üõ†  Recompile src files [10s]
    üç≥ gfortran compilation [19s]
    ‚ùå Linker error:
    /usr/bin/ld: cannot find -llapack: No such file or directory
    /usr/bin/ld: cannot find -lblas: No such file or directory
    collect2: error: ld returned 1 exit status

    üëü Run processor
    b''




.. GENERATED FROM PYTHON SOURCE LINES 39-53

.. code-block:: Python


    simu.DEM
    zones = np.ones(np.shape(simu.DEM))
    zones[:,0:2] = 2
    zones[:,2:4] = 3
    zones[:,4:6] = 4

    simu.update_zone(zones)


    fig, ax = plt.subplots()
    simu.show_input('zone',ax=ax)






.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    üîÑ update zone file 
    üîÑ Update dem_parameters file 
    üîÑ Update parm file 




.. GENERATED FROM PYTHON SOURCE LINES 54-58

.. code-block:: Python


    df_SPP_map = simu.init_soil_SPP_map_df(nzones=4,nstr=15)
    df_SPP_map = simu.set_SOIL_defaults(SPP_map_default=True)








.. GENERATED FROM PYTHON SOURCE LINES 59-63

.. code-block:: Python


    simu.update_soil(SPP_map=df_SPP_map)

    print(df_SPP_map.head())




.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    üîÑ Update soil
    homogeneous soil
                 PERMX     PERMY     PERMZ  ... VGNCELL VGRMCCELL VGPSATCELL
    zone str                                ...                             
    1    1    0.000188  0.000188  0.000188  ...    1.46      0.15    0.03125
         2    0.000188  0.000188  0.000188  ...    1.46      0.15    0.03125
         3    0.000188  0.000188  0.000188  ...    1.46      0.15    0.03125
         4    0.000188  0.000188  0.000188  ...    1.46      0.15    0.03125
         5    0.000188  0.000188  0.000188  ...    1.46      0.15    0.03125

    [5 rows x 8 columns]





.. rst-class:: sphx-glr-timing

   **Total running time of the script:** (0 minutes 20.773 seconds)


.. _sphx_glr_download_content_SSHydro_plot_3a_create_soil_withzones.py:

.. only:: html

  .. container:: sphx-glr-footer sphx-glr-footer-example

    .. container:: sphx-glr-download sphx-glr-download-jupyter

      :download:`Download Jupyter notebook: plot_3a_create_soil_withzones.ipynb <plot_3a_create_soil_withzones.ipynb>`

    .. container:: sphx-glr-download sphx-glr-download-python

      :download:`Download Python source code: plot_3a_create_soil_withzones.py <plot_3a_create_soil_withzones.py>`

    .. container:: sphx-glr-download sphx-glr-download-zip

      :download:`Download zipped: plot_3a_create_soil_withzones.zip <plot_3a_create_soil_withzones.zip>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
